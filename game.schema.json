{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://podium.bluelinden.art/game-schema-v1.json",
    "$comment": "This schema is intended exclusively for use with the Podium Game Engine. No interoperability should be expected with any other systems, and no effort will be made to be or remain interoperable. If you want a game schema, make your own, and it's totally cool with me if you want to base it on this one. Just don't expect me to do that work. - Blue Linden / Podium Developer",
    "required": [
        "game",
        "type",
        "version",
        "name",
        "questions"
    ],
    "properties": {
        "engine": {
            "description": "Name of the engine used to play this Game",
            "type": "string",
            "default": "The Podium Game 1.0"
        },
        "gameType": {
            "description": "Type of the Game",
            "type": "string",
            "enum": ["trivia", "game-show"],
            "default": "trivia"
        },
        "version": {
            "description": "Version of the engine used to play this Game",
            "type": "number",
            "default": 1
        },
        "name": {
            "description": "Name of the Game",
            "type": "string"
        },
        "questions": {
            "type": "array",
            "items": {
                "type": "object",
                "required": [
                    "title",
                    "id"
                ],
                "properties": {
                    "title": {
                        "description": "Title of the question",
                        "type": "string"
                    },
                    "id": {
                        "description": "ID of the question",
                        "type": "string"
                    },
                    "answers": {
                        "description": "Array of Answers",
                        "type": "array",
                        "items": {
                            "type": "object",
                            "required": [
                                "answer",
                                "id"
                            ],
                            "properties": {
                                "answer": {
                                    "description": "Answer choice",
                                    "type": "string"
                                },
                                "id": {
                                    "description": "ID of the answer",
                                    "type": "string"
                                },
                                "correct": {
                                    "description": "Is this the correct answer?",
                                    "type": "boolean"
                                },
                                "order": {
                                    "description": "Order of the answer if in a drag and drop question",
                                    "type": "number"
                                }
                            }
                        }
                    },
                    "type": {
                        "description": "Type of the question",
                        "type": "string",
                        "enum": ["multiple-choice", "drag-and-drop", "true-false", "fill-in-the-blank", "short-answer", "live", "none"],
                        "default": "multiple-choice"
                    },
                    "gameShow": {
                        "properties": {
                            "row": {
                                "description": "Row of the question",
                                "type": "number"
                            },
                            "column": {
                                "description": "Column of the question",
                                "type": "number"
                            },
                            "category": {
                                "description": "Category of the question",
                                "type": "string"
                            }
                        }
                    },
                    "answerDisplayOrder": {
                        "type": "object",
                        "required": [
                            "type"
                        ],
                        "properties": {
                            "type": {
                                "description": "Type of the answer order",
                                "type": "string",
                                "enum": ["random", "fixed"],
                                "default": "random"
                            },
                            "order": {
                                "description": "Order of the answers",
                                "type": "array",
                                "items": {
                                    "type": "number"
                                }
                            }
                        },
                        "if": {
                            "properties": {
                                "type": {
                                    "const": "fixed"
                                }
                            }
                        },
                        "then": {
                            "required": [
                                "order"
                            ]
                        }
                    },
                    "timers": {
                        "type": "object",
                        "required": [
                            "type"
                        ],
                        "properties": {
                            "type": {
                                "description": "Type of the timers",
                                "type": "string",
                                "enum": ["fixed", "random"],
                                "default": "fixed"
                            },
                            "timers": {
                                "description": "Various timers for the question",
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "required": [
                                        "time"
                                    ],
                                    "properties": {
                                        "countdown": {
                                            "type": "number",
                                            "description": "Countdown timer to answers being available to select",
                                            "default": 5
                                        },
                                        "close": {
                                            "type": "number",
                                            "description": "Amount of time answers are available",
                                            "default": 20
                                        },
                                        "reveal": {
                                            "type": "number",
                                            "description": "Amount of time the correct answer is displayed",
                                            "default": 5
                                        },
                                        "ranks": {
                                            "type": "number",
                                            "description": "Amount of time the ranks are displayed",
                                            "default": 10
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "custom": {
            "type": "object",
            "properties": {
                "dialogue": {
                    "type": "object",
                    "properties": {
                        "correct": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "incorrect": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "timeout": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "partial": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "topRanked": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "firstPlace": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "doBetter": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                },
                "customJS": {
                    "type": "string",
                    "format": "uri"
                },
                "customSchema": {
                    "type": "string",
                    "format": "uri"
                },
                "customCSS": {
                    "type": "string",
                    "format": "uri"
                },
                "joinWarningMessage": {
                    "type": "string",
                    "description": "Message to display to the user when they join the game if any custom logic is present, appended to the mandatory Podium-generated message about safety that appears in custom games. The user will not be able to join the game and their browser will not let your code run until they acknowledge the message, so make it convincing."
                }
            }
        }
    }
}



